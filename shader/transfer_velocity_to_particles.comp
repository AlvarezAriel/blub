#version 450

#include "particles.glsl"
#include "per_frame_resources.glsl"

void main() {
    uint particle_index = gl_GlobalInvocationID.x;
    vec3 position = Particles[particle_index].Position;

    Particles[particle_index].Position = texture(sampler3D(VelocityGridRead, SamplerTrilinear), position / imageSize(VelocityGridWrite)).xyz;
}